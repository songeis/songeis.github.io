(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{147:function(t,s,a){"use strict";a.r(s);var n=a(0),r=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"工厂模式之“抽象工厂”"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#工厂模式之“抽象工厂”"}},[t._v("#")]),t._v(" 工厂模式之“抽象工厂”")]),t._v(" "),a("p",[t._v("还是继续昨天的公司员工信息系统的例子。最后实现的代码是这样的。")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Factory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" age"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" career")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" work\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("switch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("career"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'coder'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            work "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'写代码'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'写系分'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'修Bug'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" \n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'product manager'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            work "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'订会议室'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'写PRD'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'催更'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'boss'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            work "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'喝茶'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'看报'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'见客户'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'xxx'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 其它工种的职责分配")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n            \n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" age"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" career"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" work"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("这是一个相当扁平化的工厂，虽然很多公司声称扁平化管理，没有层级。但你还是要清楚，你和boss 是有区别的，一个是领工资的，一个是发工资的。老板有能力领工资，但你未必有能力发工资。")]),t._v(" "),a("p",[t._v("所以在上面这段代码里至少有两个层级，但也可以按照基层+中层+高层+外部人员的方式分出管理层级。这就有了一个新的需求。")]),t._v(" "),a("p",[t._v("将员工的层级区分出来。")]),t._v(" "),a("p",[t._v("怎么办？直接修改 Factory 吗？")]),t._v(" "),a("h1",{attrs:{id:"开放封闭原则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开放封闭原则"}},[t._v("#")]),t._v(" 开放封闭原则")]),t._v(" "),a("blockquote",[a("p",[t._v("对拓展开放，对修改封闭。")]),t._v(" "),a("p",[t._v("软件尸体（类，模块，函数可以扩展但不能修改）")])]),t._v(" "),a("p",[t._v("所以在增加新的需求的时候，我们首先要想的不是修改，而是扩展。")]),t._v(" "),a("p",[t._v("怎么样才能实现拓展，怎么写才方便拓展。")]),t._v(" "),a("h1",{attrs:{id:"抽象工厂和具体工厂"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#抽象工厂和具体工厂"}},[t._v("#")]),t._v(" 抽象工厂和具体工厂")]),t._v(" "),a("p",[t._v("抽象工厂（AbstractFactory）不干活只定规矩，具体工厂（ConcreteFactory）才是干活的那一个。")]),t._v(" "),a("p",[t._v("在具体工厂中，用来 new 出具体对象的类叫做具体产品类（ConcreteProduct）。")]),t._v(" "),a("p",[t._v("具体产品类不会孤立存在，不同的具体产品类都有着共同的功能。")]),t._v(" "),a("p",[t._v("而这个所谓的共同功能实际上是在抽象产品类(AbstractProduct)中规定的。")]),t._v(" "),a("p",[t._v("有点乱是不是，我们不妨简单的梳理一下：")]),t._v(" "),a("ol",[a("li",[t._v("抽象工厂和具体工厂的关系：继承，具体工厂继承自抽象工厂")]),t._v(" "),a("li",[t._v("抽象工厂和抽象产品类的关系：没有直接的关系")]),t._v(" "),a("li",[t._v("具体工厂和具体产品类：具体产品类会在具体工厂里 new")]),t._v(" "),a("li",[t._v("抽象产品类和具体产品类：继承，具体产品类继承自抽象产品类")])])])}),[],!1,null,null,null);s.default=r.exports}}]);